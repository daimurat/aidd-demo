## ユースケース定義書
### UC-01 会員登録
* **シナリオ名**：UC-01 会員登録
  顧客が銀杏商店街アプリを通じてポイントシステムに会員登録する。
* **事前条件**：
  顧客がスマートフォンに「銀杏商店街アプリ」をインストール済みであること。
* **事後条件**：
  システム上に一意な「アプリID」とニックネームが登録され、会員データが作成される。
* **開始条件**：
  顧客がアプリ上で「会員登録」インターフェースを起動する。
* **アクター**：
  顧客（近隣住民、来街者）
* **インターフェイス**：
  銀杏商店街アプリ - 会員登録画面
* **プレース**：
  顧客のスマートフォン上
* **システム**：
  ポイント管理システム
* **ビジネスロジック**：
  会員登録（アプリID生成、ニックネーム登録）
* **データモデル**：
  会員（アプリID［一意］、ニックネーム）
* **他システム**：
  なし
* **シナリオ本体**：

  1. 顧客はアプリを起動し、「会員登録」画面を表示する。
  2. 顧客は自身の携帯電話番号に基づいて生成されるアプリIDと、任意のニックネームを入力する。
  3. 入力された情報が「会員登録」ビジネスロジックに渡され、システムに会員データが作成される。
  4. 成功メッセージと共に、登録完了画面が表示される。

---

### UC-02 購入時のポイント付与
* **シナリオ名**：UC-02 購入時のポイント付与
  顧客が提示するQRコードにより、購入金額に応じたポイントを店舗側が付与する。
* **事前条件**：
  顧客が会員登録済みで、アプリにログイン可能であること。店舗は銀杏商店街店舗アプリを導入済み。
* **事後条件**：
  会員データに新たな来店情報が追加される。
* **開始条件**：
  顧客が会計時にポイント付与を希望し、QRコードを提示する。
* **アクター**：
  顧客、店舗スタッフ
* **インターフェイス**：
  ・顧客用：銀杏商店街アプリ - 顧客QRコード画面
  ・店舗用：銀杏商店街 - 店舗ポイント登録画面
* **プレース**：
  商店街加盟店舗内のレジカウンター等
* **システム**：
  ポイント管理システム
* **ビジネスロジック**：
  ポイント計算、来店情報追加
* **データモデル**：
  会員、来店情報（商店街登録ID、日時、支払金額、ポイント、メモ）
* **他システム**：
  なし
* **シナリオ本体**：

  1. 顧客が「QRコード」画面を開き、店舗スタッフに提示する。
  2. 店舗スタッフが銀杏商店街店舗アプリを使い、QRコードを読み取る。
  3. 支払金額を入力し、ポイント計算ロジックが呼び出される。
  4. 来店情報が会員データに追加される。
  5. ポイント加算結果が表示され、スタッフが顧客に通知する。

---

### UC-03 ポイントの確認
* **シナリオ名**：UC-03 ポイントの確認
  顧客が自身の保有ポイント数をアプリ上で確認する。
* **事前条件**：
  顧客が会員登録済みであること。
* **事後条件**：
  顧客がポイント残高を把握する。
* **開始条件**：
  顧客がアプリ上でポイント確認画面を起動する。
* **アクター**：
  顧客
* **インターフェイス**：
  銀杏商店街アプリ - ポイント確認画面
* **プレース**：
  顧客のスマートフォン
* **システム**：
  ポイント管理システム
* **ビジネスロジック**：
  ポイント照会
* **データモデル**：
  会員、来店情報
* **他システム**：
  なし
* **シナリオ本体**：

  1. 顧客はアプリでポイント確認画面を表示する。
  2. アプリがビジネスロジックに照会リクエストを送信する。
  3. 現在のポイント残高が計算され、表示される。

---

### UC-04 ポイント利用
* **シナリオ名**：UC-04 ポイント利用
  顧客が保有ポイントを利用して支払いの一部を補填する。
* **事前条件**：
  顧客が会員登録済みで、ポイント残高が利用額以上あること。
* **事後条件**：
  ポイントが減算され、新しい来店情報が記録される。
* **開始条件**：
  顧客が支払い時にポイントを使いたいと申し出る。
* **アクター**：
  顧客、店舗スタッフ
* **インターフェイス**：
  ・顧客用：銀杏商店街アプリ - 顧客QRコード画面
  ・店舗用：銀杏商店街店舗アプリ - 店舗ポイント利用画面
* **プレース**：
  商店街加盟店舗内
* **システム**：
  ポイント管理システム
* **ビジネスロジック**：
  ポイント利用、来店情報追加
* **データモデル**：
  会員、来店情報（ポイント属性は負数）
* **他システム**：
  なし
* **シナリオ本体**：

  1. 顧客がQRコードを提示し、店舗スタッフが読み取る。
  2. 利用するポイント数を店舗側が入力し、「利用」ボタンを押す。
  3. ポイント利用ビジネスロジックが呼び出され、ポイントが減算される。
  4. 負のポイント値を含む来店情報が追加される。
  5. 利用結果が顧客に伝えられる。

---

### UC-05 店舗登録
* **シナリオ名**：UC-05 店舗登録
  商店街の事務所で、事務員が新規店舗をポイントシステムに登録する。
* **事前条件**：
  事務員が管理システムにログイン済みであること。
* **事後条件**：
  新規店舗がシステムに登録される。
* **開始条件**：
  新たに加盟申請があり、事務所で受付処理が開始される。
* **アクター**：
  事務員
* **インターフェイス**：
  商店街事務所向けWebアプリ - 店舗登録画面
* **プレース**：
  商店街の事務所
* **システム**：
  ポイント管理システム
* **ビジネスロジック**：
  店舗登録
* **データモデル**：
  店舗（商店街登録ID、店舗名、連絡先、登録日）
* **他システム**：
  なし
* **シナリオ本体**：

  1. 事務員が店舗情報を聞き取り、Webアプリに入力する。
  2. 「店舗登録」ビジネスロジックが呼び出される。
  3. 入力された店舗データがシステムに登録される。
  4. 成功メッセージが表示され、登録完了が通知される。
